{"ast":null,"code":"import _defineProperty from\"C:/Users/Rashad/Desktop/auth/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:/Users/Rashad/Desktop/auth/react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rashad/Desktop/auth/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";export var getProduct=createAsyncThunk(\"products/getProduct\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_,_ref){var rejectWithValue,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.next=3;return axios.get(\"http://127.0.0.1:8000/api/products/\").then(function(response){return response.data;}).catch(function(err){return rejectWithValue(err);});case 3:res=_context.sent;return _context.abrupt(\"return\",res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());// _________________________________________________________________\nexport var searchProduct=createAsyncThunk(\"products/getProduct\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(args,_ref3){var rejectWithValue,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:rejectWithValue=_ref3.rejectWithValue;_context2.next=3;return axios.get(\"http://127.0.0.1:8000/api/products/?search=\".concat(args)).then(function(response){return response.data;}).catch(function(err){return rejectWithValue(err);});case 3:res=_context2.sent;return _context2.abrupt(\"return\",res);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}());// _________________________________________________________________\nexport var getItem=createAsyncThunk(\"products/getItem\",/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(args,_ref5){var rejectWithValue,res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:rejectWithValue=_ref5.rejectWithValue;_context3.next=3;return axios.get(\"http://127.0.0.1:8000/api/products/\".concat(args,\"/\")).then(function(response){return response.data;}).catch(function(err){return rejectWithValue(err);});case 3:res=_context3.sent;return _context3.abrupt(\"return\",res);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref6.apply(this,arguments);};}());// id: localStorage.getItem('id') || '',\nvar productReducer=createSlice({name:\"products\",initialState:{products:[],item:{// id: localStorage.getItem('id') || '',\n// name: localStorage.getItem('name') || '',\n// description: localStorage.getItem('description') || '',\n// category: localStorage.getItem('category') || '',\n// price: localStorage.getItem('price') || '',\n// image: localStorage.getItem('image') || '',\n}},reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getProduct.pending,function(state,action){}),_defineProperty(_extraReducers,getProduct.fulfilled,function(state,action){state.products=action.payload;}),_defineProperty(_extraReducers,getProduct.rejected,function(state,action){console.log(\"rejected\");}),_defineProperty(_extraReducers,searchProduct.pending,function(state,action){// console.log(\"\");\n}),_defineProperty(_extraReducers,searchProduct.fulfilled,function(state,action){state.products=action.payload;}),_defineProperty(_extraReducers,searchProduct.rejected,function(state,action){toast.error(\"rejected\");}),_defineProperty(_extraReducers,getItem.fulfilled,function(state,action){state.item=action.payload;// localStorage.setItem('item', JSON.stringify(action.payload));\n// console.log( state.item);\nlocalStorage.setItem(\"id\",action.payload.id);localStorage.setItem(\"name\",action.payload.name);localStorage.setItem(\"description\",action.payload.description);localStorage.setItem(\"category\",action.payload.category);localStorage.setItem(\"price\",action.payload.price);localStorage.setItem(\"image\",action.payload.image);}),_extraReducers)});export default productReducer.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","toast","getProduct","_","rejectWithValue","get","then","response","data","catch","err","res","searchProduct","args","getItem","productReducer","name","initialState","products","item","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","console","log","error","localStorage","setItem","id","description","category","price","image","reducer"],"sources":["C:/Users/Rashad/Desktop/auth/react-app/src/redux/productsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport const getProduct = createAsyncThunk(\r\n  \"products/getProduct\",\r\n  async (_, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(\"http://127.0.0.1:8000/api/products/\")\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n// _________________________________________________________________\r\n\r\nexport const searchProduct = createAsyncThunk(\r\n  \"products/getProduct\",\r\n  async (args, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(`http://127.0.0.1:8000/api/products/?search=${args}`)\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n// _________________________________________________________________\r\n\r\nexport const getItem = createAsyncThunk(\r\n  \"products/getItem\",\r\n  async (args, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(`http://127.0.0.1:8000/api/products/${args}/`)\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n\r\n// id: localStorage.getItem('id') || '',\r\nconst productReducer = createSlice({\r\n  name: \"products\",\r\n  initialState: {\r\n    products: [],\r\n\r\n    item: {\r\n      // id: localStorage.getItem('id') || '',\r\n      // name: localStorage.getItem('name') || '',\r\n      // description: localStorage.getItem('description') || '',\r\n      // category: localStorage.getItem('category') || '',\r\n      // price: localStorage.getItem('price') || '',\r\n      // image: localStorage.getItem('image') || '',\r\n    },\r\n\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getProduct.pending]: (state, action) => {},\r\n    [getProduct.fulfilled]: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    [getProduct.rejected]: (state, action) => {\r\n      console.log(\"rejected\");\r\n    },\r\n\r\n    [searchProduct.pending]: (state, action) => {\r\n      // console.log(\"\");\r\n    },\r\n    [searchProduct.fulfilled]: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    [searchProduct.rejected]: (state, action) => {\r\n      toast.error(\"rejected\");\r\n    },\r\n    // ______________________Get Item _________________________________\r\n    [getItem.fulfilled]: (state, action) => {\r\n      state.item = action.payload;\r\n      // localStorage.setItem('item', JSON.stringify(action.payload));\r\n      // console.log( state.item);\r\n      localStorage.setItem(\"id\", action.payload.id);\r\n      localStorage.setItem(\"name\", action.payload.name);\r\n      localStorage.setItem(\"description\", action.payload.description);\r\n      localStorage.setItem(\"category\", action.payload.category);\r\n      localStorage.setItem(\"price\", action.payload.price);\r\n      localStorage.setItem(\"image\", action.payload.image);\r\n    },\r\n\r\n\r\n  },\r\n});\r\n\r\nexport default productReducer.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}