{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nexport const getProduct = createAsyncThunk(\"products/getProduct\", async (_, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  const res = await axios.get(\"http://127.0.0.1:8000/api/products/\").then(response => response.data).catch(err => rejectWithValue(err));\n  return res;\n}); // _________________________________________________________________\n\nexport const searchProduct = createAsyncThunk(\"products/getProduct\", async (args, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  const res = await axios.get(`http://127.0.0.1:8000/api/products/?search=${args}`).then(response => response.data).catch(err => rejectWithValue(err));\n  return res;\n}); // _________________________________________________________________\n\nexport const getItem = createAsyncThunk(\"products/getItem\", async (args, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  const res = await axios.get(`http://127.0.0.1:8000/api/products/${args}/`).then(response => response.data).catch(err => rejectWithValue(err));\n  return res;\n}); // id: localStorage.getItem('id') || '',\n\nconst productReducer = createSlice({\n  name: \"products\",\n  initialState: {\n    products: [],\n    item: {// id: localStorage.getItem('id') || '',\n      // name: localStorage.getItem('name') || '',\n      // description: localStorage.getItem('description') || '',\n      // category: localStorage.getItem('category') || '',\n      // price: localStorage.getItem('price') || '',\n      // image: localStorage.getItem('image') || '',\n    }\n  },\n  reducers: {},\n  extraReducers: {\n    [getProduct.pending]: (state, action) => {},\n    [getProduct.fulfilled]: (state, action) => {\n      state.products = action.payload;\n    },\n    [getProduct.rejected]: (state, action) => {\n      console.log(\"rejected\");\n    },\n    [searchProduct.pending]: (state, action) => {// console.log(\"\");\n    },\n    [searchProduct.fulfilled]: (state, action) => {\n      state.products = action.payload;\n    },\n    [searchProduct.rejected]: (state, action) => {\n      toast.error(\"rejected\");\n    },\n    // ______________________Get Item _________________________________\n    [getItem.fulfilled]: (state, action) => {\n      state.item = action.payload; // localStorage.setItem('item', JSON.stringify(action.payload));\n      // console.log( state.item);\n\n      localStorage.setItem(\"id\", action.payload.id);\n      localStorage.setItem(\"name\", action.payload.name);\n      localStorage.setItem(\"description\", action.payload.description);\n      localStorage.setItem(\"category\", action.payload.category);\n      localStorage.setItem(\"price\", action.payload.price);\n      localStorage.setItem(\"image\", action.payload.image);\n    }\n  }\n});\nexport default productReducer.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","toast","getProduct","_","rejectWithValue","res","get","then","response","data","catch","err","searchProduct","args","getItem","productReducer","name","initialState","products","item","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","console","log","error","localStorage","setItem","id","description","category","price","image","reducer"],"sources":["C:/Users/Rashad/Desktop/auth/react-app/src/redux/productsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport const getProduct = createAsyncThunk(\r\n  \"products/getProduct\",\r\n  async (_, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(\"http://127.0.0.1:8000/api/products/\")\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n// _________________________________________________________________\r\n\r\nexport const searchProduct = createAsyncThunk(\r\n  \"products/getProduct\",\r\n  async (args, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(`http://127.0.0.1:8000/api/products/?search=${args}`)\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n// _________________________________________________________________\r\n\r\nexport const getItem = createAsyncThunk(\r\n  \"products/getItem\",\r\n  async (args, { rejectWithValue }) => {\r\n    const res = await axios\r\n      .get(`http://127.0.0.1:8000/api/products/${args}/`)\r\n      .then((response) => response.data)\r\n      .catch((err) => rejectWithValue(err));\r\n    return res;\r\n  }\r\n);\r\n\r\n\r\n// id: localStorage.getItem('id') || '',\r\nconst productReducer = createSlice({\r\n  name: \"products\",\r\n  initialState: {\r\n    products: [],\r\n\r\n    item: {\r\n      // id: localStorage.getItem('id') || '',\r\n      // name: localStorage.getItem('name') || '',\r\n      // description: localStorage.getItem('description') || '',\r\n      // category: localStorage.getItem('category') || '',\r\n      // price: localStorage.getItem('price') || '',\r\n      // image: localStorage.getItem('image') || '',\r\n    },\r\n\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getProduct.pending]: (state, action) => {},\r\n    [getProduct.fulfilled]: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    [getProduct.rejected]: (state, action) => {\r\n      console.log(\"rejected\");\r\n    },\r\n\r\n    [searchProduct.pending]: (state, action) => {\r\n      // console.log(\"\");\r\n    },\r\n    [searchProduct.fulfilled]: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    [searchProduct.rejected]: (state, action) => {\r\n      toast.error(\"rejected\");\r\n    },\r\n    // ______________________Get Item _________________________________\r\n    [getItem.fulfilled]: (state, action) => {\r\n      state.item = action.payload;\r\n      // localStorage.setItem('item', JSON.stringify(action.payload));\r\n      // console.log( state.item);\r\n      localStorage.setItem(\"id\", action.payload.id);\r\n      localStorage.setItem(\"name\", action.payload.name);\r\n      localStorage.setItem(\"description\", action.payload.description);\r\n      localStorage.setItem(\"category\", action.payload.category);\r\n      localStorage.setItem(\"price\", action.payload.price);\r\n      localStorage.setItem(\"image\", action.payload.image);\r\n    },\r\n\r\n\r\n  },\r\n});\r\n\r\nexport default productReducer.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}