{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{ToastContainer,toast}from\"react-toastify\";import{Button,Card,Container,Row,Col}from\"react-bootstrap\";import{cartProduct}from\"../../redux/cartSlice\";import axios from\"axios\";// import GooglePayButton from './GooglePayButton';\nimport GooglePayButton from\"@google-pay/button-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var mail=localStorage.getItem(\"email\");var dispatch=useDispatch();var data=useSelector(function(state){return state.cartProduct.data;});useEffect(function(){console.log(\"hello\");dispatch(cartProduct(mail));},[dispatch]);// ---------------------------Comment ------------------------------\n// useEffect(() => {\n//   // console.log(\"data: \");\n//   // console.log(data);\n// }, [data]);\n// ---------------------------Comment ------------------------------\nvar deleteProduct=function deleteProduct(id){axios.delete(\"http://127.0.0.1:8000/api/cart/\".concat(id,\"/\")).then(function(res){toast.success(\"Product Has Been Deleted\");dispatch(cartProduct(mail));}).catch(function(err){return toast.error(err);});};// __________________Send Email ___________________\nvar sendMail=function sendMail(pro,mail){axios.get(\"http://127.0.0.1:8000/send/\".concat(pro,\"/\").concat(mail)).then(function(res){return console.log(res.data);}).catch(function(err){return console.log(err.response);});};// __________________Send Email ___________________\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Container,{className:\"\",children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mt-2 text-muted\",children:\"Cart Products\"}),data.map(function(item,index){return/*#__PURE__*/_jsx(Col,{className:\"mt-3\",xs:\"auto\",children:/*#__PURE__*/_jsxs(Card,{style:{width:\"17rem\",borderRadius:15},className:\"shadow-lg rounded hoverElement\",children:[/*#__PURE__*/_jsx(Card.Img,{style:{height:\"300px\"},variant:\"top\",src:\"http://127.0.0.1:8000\"+item.product.image}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{style:{fontSize:\"17px\",whiteSpace:\"nowrap\",overflow:\"hidden\",textOverflow:\"ellipsis\"},className:\"fw-bold\",children:item.product.name}),/*#__PURE__*/_jsxs(Card.Text,{className:\"fw-bold\",children:[\"Price: \",item.product.price]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"fw-bold\",children:[\"Qty: \",item.qty]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteProduct(item.id);},style:{background:\"#113A58\",width:\"100%\",marginBottom:\"5px\"},variant:\"primary\",children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return sendMail(item.product.name,mail);},style:{background:\"#113A58\",width:\"100%\",marginBottom:\"5px\"},variant:\"primary\",children:\"Send Email\"}),/*#__PURE__*/_jsx(GooglePayButton,{environment:\"TEST\",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:\"CARD\",parameters:{allowedAuthMethods:[\"PAN_ONLY\",\"CRYPTOGRAM_3DS\"],allowedCardNetworks:[\"MASTERCARD\",\"VISA\"]},tokenizationSpecification:{type:\"PAYMENT_GATEWAY\",parameters:{gateway:\"example\",gatewayMerchantId:\"exampleGatewayMerchantId\"}}}],merchantInfo:{merchantId:\"12345678901234567890\",merchantName:\"Demo Merchant\"},transactionInfo:{totalPriceStatus:\"FINAL\",totalPriceLabel:\"Total\",totalPrice:parseFloat(item.product.price).toFixed(2),currencyCode:\"USD\",countryCode:\"US\"}},onLoadPaymentData:function onLoadPaymentData(paymentRequest){console.log(\"load payment data\",paymentRequest);}})]})]})]})},index);})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","ToastContainer","toast","Button","Card","Container","Row","Col","cartProduct","axios","GooglePayButton","Cart","mail","localStorage","getItem","dispatch","data","state","console","log","deleteProduct","id","delete","then","res","success","catch","err","error","sendMail","pro","get","response","map","item","index","width","borderRadius","height","product","image","fontSize","whiteSpace","overflow","textOverflow","name","price","qty","background","marginBottom","apiVersion","apiVersionMinor","allowedPaymentMethods","type","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gatewayMerchantId","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","parseFloat","toFixed","currencyCode","countryCode","paymentRequest"],"sources":["C:/Users/Rashad/Desktop/auth/react-app/src/components/product/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Button, Card, Container, Row, Col } from \"react-bootstrap\";\r\nimport { cartProduct } from \"../../redux/cartSlice\";\r\nimport axios from \"axios\";\r\n\r\n// import GooglePayButton from './GooglePayButton';\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\n\r\nconst Cart = () => {\r\n  const mail = localStorage.getItem(\"email\");\r\n  const dispatch = useDispatch();\r\n  const data = useSelector((state) => state.cartProduct.data);\r\n\r\n  useEffect(() => {\r\n    console.log(\"hello\");\r\n    dispatch(cartProduct(mail));\r\n  }, [dispatch]);\r\n\r\n  // ---------------------------Comment ------------------------------\r\n\r\n  // useEffect(() => {\r\n  //   // console.log(\"data: \");\r\n  //   // console.log(data);\r\n\r\n  // }, [data]);\r\n\r\n  // ---------------------------Comment ------------------------------\r\n\r\n  const deleteProduct = (id) => {\r\n    axios\r\n      .delete(`http://127.0.0.1:8000/api/cart/${id}/`)\r\n      .then((res) => {\r\n        toast.success(\"Product Has Been Deleted\");\r\n        dispatch(cartProduct(mail));\r\n      })\r\n      .catch((err) => toast.error(err));\r\n  };\r\n\r\n  // __________________Send Email ___________________\r\n\r\n  const sendMail = (pro, mail) => {\r\n    axios\r\n      .get(`http://127.0.0.1:8000/send/${pro}/${mail}`)\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n  // __________________Send Email ___________________\r\n\r\n  return (\r\n    <div>\r\n      <Container className=\"\">\r\n        <Row className=\"justify-content-center align-items-center\">\r\n          <h3 className=\"text-center mt-2 text-muted\">Cart Products</h3>\r\n          {/* <h2 className=\"text-center p-1\">Quantity: {data.length}</h2> */}\r\n          {data.map((item, index) => {\r\n            return (\r\n              <Col className=\"mt-3\" xs=\"auto\" key={index}>\r\n                <Card\r\n                  style={{ width: \"17rem\", borderRadius: 15 }}\r\n                  className=\"shadow-lg rounded hoverElement\"\r\n                >\r\n                  <Card.Img\r\n                    style={{\r\n                      height: \"300px\",\r\n                    }}\r\n                    variant=\"top\"\r\n                    src={\"http://127.0.0.1:8000\" + item.product.image}\r\n                  />\r\n\r\n                  <Card.Body>\r\n                    <Card.Title\r\n                      style={{\r\n                        fontSize: \"17px\",\r\n                        whiteSpace: \"nowrap\",\r\n                        overflow: \"hidden\",\r\n                        textOverflow: \"ellipsis\",\r\n                      }}\r\n                      className=\"fw-bold\"\r\n                    >\r\n                      {item.product.name}\r\n                    </Card.Title>\r\n                    <Card.Text className=\"fw-bold\">\r\n                      Price: {item.product.price}\r\n                    </Card.Text>\r\n                    <Card.Text className=\"fw-bold\">Qty: {item.qty}</Card.Text>\r\n\r\n                    <div className=\"text-center\">\r\n                      <Button\r\n                        onClick={() => deleteProduct(item.id)}\r\n                        style={{\r\n                          background: \"#113A58\",\r\n                          width: \"100%\",\r\n                          marginBottom: \"5px\",\r\n                        }}\r\n                        variant=\"primary\"\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n\r\n                      <Button\r\n                        onClick={() => sendMail(item.product.name, mail)}\r\n                        style={{\r\n                          background: \"#113A58\",\r\n                          width: \"100%\",\r\n                          marginBottom: \"5px\",\r\n                        }}\r\n                        variant=\"primary\"\r\n                      >\r\n                        Send Email\r\n                      </Button>\r\n\r\n                      {/* ----------------------- */}\r\n\r\n                      {/* <Button\r\n                        onClick={() =>\r\n                          toast.success(\"Payment Completed Successfully\")\r\n                        }\r\n                        style={{ background: \"#113A58\" }}\r\n                        variant=\"primary\"\r\n                      >\r\n                        Payment\r\n                      </Button> */}\r\n\r\n                      <GooglePayButton\r\n                        environment=\"TEST\"\r\n                        paymentRequest={{\r\n                          apiVersion: 2,\r\n                          apiVersionMinor: 0,\r\n                          allowedPaymentMethods: [\r\n                            {\r\n                              type: \"CARD\",\r\n                              parameters: {\r\n                                allowedAuthMethods: [\r\n                                  \"PAN_ONLY\",\r\n                                  \"CRYPTOGRAM_3DS\",\r\n                                ],\r\n                                allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                              },\r\n                              tokenizationSpecification: {\r\n                                type: \"PAYMENT_GATEWAY\",\r\n                                parameters: {\r\n                                  gateway: \"example\",\r\n                                  gatewayMerchantId: \"exampleGatewayMerchantId\",\r\n                                },\r\n                              },\r\n                            },\r\n                          ],\r\n                          merchantInfo: {\r\n                            merchantId: \"12345678901234567890\",\r\n                            merchantName: \"Demo Merchant\",\r\n                          },\r\n                          transactionInfo: {\r\n                            totalPriceStatus: \"FINAL\",\r\n                            totalPriceLabel: \"Total\",\r\n                            totalPrice: parseFloat(item.product.price).toFixed(\r\n                              2\r\n                            ),\r\n                            currencyCode: \"USD\",\r\n                            countryCode: \"US\",\r\n                          },\r\n                        }}\r\n                        onLoadPaymentData={(paymentRequest) => {\r\n                          console.log(\"load payment data\", paymentRequest);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            );\r\n          })}\r\n        </Row>\r\n      </Container>\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}